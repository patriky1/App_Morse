:root{
  --bg:#0b1020; --panel:#121a33; --muted:#7f8dab; --accent:#6dd3ff; --accent-2:#a5ffb3;
  --text:#e9eefc; --danger:#ff6d8a; --shadow: 0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box}

/* Base mobile-first */
body{
  margin:0; padding:12px; background: radial-gradient(1200px 600px at 20% -10%, #192448, var(--bg));
  color:var(--text); font: 500 16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans",Arial;
  touch-action: pan-y; /* permite scroll vertical no mobile */
}

/* Layout principal: 1 coluna por padrão */
.app{
  max-width:1100px; margin:0 auto; display:grid; gap:16px;
  grid-template-columns: 1fr;
}

header{grid-column:1/-1; display:flex; gap:12px; align-items:center; flex-wrap:wrap}
h1{font-weight:800; letter-spacing:.3px; font-size: clamp(20px, 6vw, 34px); margin:0}
.badge{padding:6px 10px; border:1px solid #2a355f; color:var(--muted); border-radius:999px}

.card{
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
  border:1px solid #243058; border-radius:16px; box-shadow:var(--shadow)
}
.card .hd{padding:14px 16px; border-bottom:1px solid #1e294e; display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap}
.card .bd{padding:16px}

.field{display:flex; flex-direction:column; gap:8px}
label.small{display:flex; gap:8px; align-items:center}
.hint{color:#9bb1e7}

textarea, input[type="text"]{
  width:100%; background:#0e1530; color:var(--text); border:1px solid #1f2a53; border-radius:14px; padding:12px 14px; outline:none; resize:vertical;
  min-height:84px; font:600 15px/1.5 ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02)
}

/* Grids internos: 1 coluna no mobile */
.row{display:grid; gap:12px}
.cols-2, .cols-3{grid-template-columns: 1fr}

/* Botões e espaçamentos no mobile */
.btns{display:flex; flex-wrap:wrap; gap:8px; flex-direction:column}
.spacer{flex:1}
.mt-10{margin-top:10px}
.mt-12{margin-top:12px}

button{
  background:#0e1530; border:1px solid #2a355f; color:var(--text); padding:10px 14px; border-radius:14px; cursor:pointer;
  font-weight:700; transition:transform .06s ease, filter .2s ease, background .2s ease; width:100%; min-height:44px
}
button:hover{filter:brightness(1.15)}
button:active{transform:translateY(1px)}
.primary{background:linear-gradient(180deg, #1b2a6b, #121f58); border-color:#3851c7}
.danger{background:linear-gradient(180deg, #4e1630, #3a0f23); border-color:#8c224a}
.ghost{background:transparent}

.small{font-size:12px; color:var(--muted)}
.mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}

.flex{display:flex; gap:12px; align-items:center; flex-wrap:wrap}
.grow{flex:1}

.led{
  width:18px; height:18px; border-radius:50%; border:2px solid #193b41; background:#0a1f22; box-shadow:0 0 0 0 rgba(93,255,199,.0);
  transition: box-shadow .1s ease, background .1s ease, transform .1s ease
}
.led.on{ background:#7affd1; box-shadow:0 0 24px 6px rgba(122,255,209,.45), 0 0 4px 1px rgba(122,255,209,.9); transform:scale(1.05) }

/* Medidor fluido */
.meter{height:14px; background:#0b1431; border:1px solid #223060; border-radius:999px; overflow:hidden; position:relative;
  width: min(260px, 100%)}
.meter > i{position:absolute; inset:0; width:0%; background:linear-gradient(90deg, var(--accent), var(--accent-2))}

/* A tecla só bloqueia gestos dentro dela */
.key{
  user-select:none; text-align:center; padding:30px; border-radius:18px; border:1px dashed #2a355f; cursor:pointer;
  background:radial-gradient(400px 100px at 50% 0%, rgba(109,211,255,.15), transparent); outline: none;
  touch-action: none;
}
.key:focus-visible{box-shadow:0 0 0 3px rgba(109,211,255,.35)}
.key.active{background:radial-gradient(400px 100px at 50% 0%, rgba(165,255,179,.25), transparent); border-style:solid}

/* Tabela fluida: se ajusta sozinha ao espaço */
.table{display:grid; grid-template-columns: repeat(auto-fit, minmax(140px,1fr)); gap:8px}
.cell{padding:8px 10px; border:1px solid #223060; border-radius:12px; background:#0e1530; display:flex; align-items:center; justify-content:space-between}
.cell b{font-family:ui-monospace, monospace}

.output{min-height:64px; white-space:pre-wrap; word-break:break-word; padding:12px; background:#0a1130; border:1px solid #223060; border-radius:14px}

.slider{display:flex; gap:10px; align-items:center; flex-direction:column; align-items:flex-start}
input[type="range"]{accent-color:#7fe3ff; width:100%}

/* Em telas médias/largas abrimos as colunas */
@media (min-width: 900px) {
  .app { grid-template-columns: 1.1fr .9fr; }
  .btns { flex-direction:row }
  button { width:auto; min-height:unset }
  .cols-2{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  .cols-3{ grid-template-columns: repeat(3, minmax(0,1fr)); }
  header{gap:16px}
  .card{border-radius:20px}
}
